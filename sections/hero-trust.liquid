{% comment %}
  TRUST.NO.OUTPUT — Hero Section

  Philosophical Context:
  This hero section embodies the tension between critical capitalism theory
  and commercial design. Glitches serve as "errors as truth" - revealing
  system vulnerabilities as philosophical statements rather than bugs.

  Design Philosophy:
  - Conscious friction: Deliberate delays resist digital acceleration
  - Error as feature: RGB splits and terminal flickers invite reflection
  - System-awareness: Code visibility as transparency

  Performance: CSS-first approach, progressive enhancement
  Accessibility: Full prefers-reduced-motion support, WCAG 2.1 AA compliant
{% endcomment %}

<style>
  /* ========================================
     TRUST.NO.OUTPUT — Design System Variables
     ======================================== */

  /* Variables are globally provided by assets/trust-variables.css */

  /* ========================================
     Hero Container
     ======================================== */

  .hero-trust {
    position: relative;
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    background: var(--color-void-black);
    overflow: hidden;
    padding: var(--space-md);
  }

  /* Background: Subtle Gradient Animation */
  .hero-trust::before {
    content: '';
    position: absolute;
    inset: 0;
    background: radial-gradient(ellipse at 30% 20%, rgba(0, 255, 240, 0.03) 0%, transparent 50%),
      radial-gradient(ellipse at 70% 80%, rgba(255, 0, 255, 0.03) 0%, transparent 50%);
    animation: gradient-drift var(--anim-glacial) ease-in-out infinite alternate;
  }

  @keyframes gradient-drift {
    0% {
      transform: translate(0, 0);
    }
    100% {
      transform: translate(2%, -2%);
    }
  }

  /* CRT Scanlines Overlay */
  .hero-trust::after {
    content: '';
    position: absolute;
    inset: 0;
    background: repeating-linear-gradient(
      0deg,
      rgba(0, 255, 240, 0.03) 0px,
      transparent 1px,
      transparent 2px,
      rgba(0, 255, 240, 0.03) 3px
    );
    pointer-events: none;
    opacity: 0.4;
    animation: scanline-drift 8s linear infinite;
  }

  @keyframes scanline-drift {
    0% {
      transform: translateY(0);
    }
    100% {
      transform: translateY(20px);
    }
  }

  /* ========================================
     Hero Content Container
     ======================================== */

  .hero-trust__content {
    position: relative;
    z-index: 10;
    text-align: center;
    max-width: 900px;
    margin: 0 auto;
  }

  /* ========================================
     Primary Headline with RGB Glitch Effect
     ======================================== */

  .hero-trust__headline {
    font-family: var(--font-mono);
    font-size: clamp(2rem, 8vw, 5rem);
    font-weight: 700;
    letter-spacing: 0.05em;
    text-transform: uppercase;
    color: #ffffff;
    margin: 0 0 var(--space-sm);
    position: relative;
    display: inline-block;
  }

  /* RGB Split Glitch Effect — Datamoshing Reference */
  .hero-trust__headline::before,
  .hero-trust__headline::after {
    content: attr(data-text);
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    opacity: 0.8;
    mix-blend-mode: screen;
  }

  .hero-trust__headline::before {
    color: var(--color-cyan);
    animation: glitch-anim-1 var(--anim-glacial) infinite;
    clip-path: polygon(0 0, 100% 0, 100% 45%, 0 45%);
  }

  .hero-trust__headline::after {
    color: var(--color-magenta);
    animation: glitch-anim-2 var(--anim-glacial) infinite;
    clip-path: polygon(0 55%, 100% 55%, 100% 100%, 0 100%);
  }

  @keyframes glitch-anim-1 {
    0%,
    100% {
      transform: translate(0, 0);
    }
    20% {
      transform: translate(-2px, 2px);
    }
    40% {
      transform: translate(-2px, -2px);
    }
    60% {
      transform: translate(2px, 2px);
    }
    80% {
      transform: translate(2px, -2px);
    }
  }

  @keyframes glitch-anim-2 {
    0%,
    100% {
      transform: translate(0, 0);
    }
    20% {
      transform: translate(2px, -2px);
    }
    40% {
      transform: translate(2px, 2px);
    }
    60% {
      transform: translate(-2px, -2px);
    }
    80% {
      transform: translate(-2px, 2px);
    }
  }

  /* ========================================
     Subline with Terminal Flicker
     ======================================== */

  .hero-trust__subline {
    font-family: var(--font-clean);
    font-size: clamp(1rem, 3vw, 1.5rem);
    font-weight: 300;
    letter-spacing: 0.1em;
    color: var(--color-gray-ghost);
    margin: 0 0 var(--space-lg);
    animation: terminal-flicker var(--anim-slow) ease-in-out infinite;
  }

  @keyframes terminal-flicker {
    0%,
    100% {
      opacity: 1;
    }
    50% {
      opacity: 0.85;
    }
    55% {
      opacity: 1;
    }
    60% {
      opacity: 0.9;
    }
  }

  /* Cursor Effect (Optional Enhancement) */
  .hero-trust__subline::after {
    content: '▮';
    margin-left: 0.25em;
    animation: cursor-blink 1s step-end infinite;
    color: var(--color-terminal-green);
  }

  @keyframes cursor-blink {
    0%,
    50% {
      opacity: 1;
    }
    51%,
    100% {
      opacity: 0;
    }
  }

  /* ========================================
     Three-Button CTA System
     Philosophical Choice Architecture
     ======================================== */

  .hero-trust__cta-group {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-sm);
    justify-content: center;
    align-items: center;
    margin-top: var(--space-lg);
  }

  /* Base Button Styles */
  .hero-trust__btn {
    font-family: var(--font-mono);
    font-size: clamp(0.875rem, 2vw, 1rem);
    font-weight: 500;
    letter-spacing: 0.05em;
    text-transform: uppercase;
    text-decoration: none;
    padding: 1rem 2rem;
    border: 2px solid;
    cursor: pointer;
    transition: all var(--anim-fast) ease;
    position: relative;
    overflow: hidden;
  }

  /* Button 1: ENTER SIMULATION — Animated RGB Glitch */
  .hero-trust__btn--primary {
    background: transparent;
    border-color: var(--color-cyan);
    color: var(--color-cyan);
  }

  .hero-trust__btn--primary::before {
    content: '';
    position: absolute;
    inset: 0;
    background: var(--color-cyan);
    opacity: 0;
    transition: opacity var(--anim-fast) ease;
  }

  .hero-trust__btn--primary:hover::before {
    opacity: 0.1;
  }

  .hero-trust__btn--primary:hover {
    box-shadow: 0 0 10px var(--color-cyan), inset 0 0 10px rgba(0, 255, 240, 0.2);
    animation: glitch-btn var(--anim-medium) ease;
  }

  @keyframes glitch-btn {
    0%,
    100% {
      transform: translate(0, 0);
    }
    25% {
      transform: translate(-2px, 2px);
    }
    50% {
      transform: translate(2px, -2px);
    }
    75% {
      transform: translate(-2px, -2px);
    }
  }

  /* Button 2: READ MANIFESTO — Terminal Flicker */
  .hero-trust__btn--secondary {
    background: transparent;
    border-color: var(--color-magenta);
    color: var(--color-magenta);
  }

  .hero-trust__btn--secondary:hover {
    background: rgba(255, 0, 255, 0.1);
    box-shadow: 0 0 15px rgba(255, 0, 255, 0.3);
    animation: terminal-flicker var(--anim-fast) ease-in-out;
  }

  /* Button 3: REFUSE — Ghost Button (Static, Conscious Refusal) */
  .hero-trust__btn--ghost {
    background: transparent;
    border-color: var(--color-gray-dim);
    color: var(--color-gray-ghost);
  }

  .hero-trust__btn--ghost:hover {
    border-color: var(--color-gray-ghost);
    color: #ffffff;
    /* No animations — represents stillness and refusal */
  }

  /* ========================================
     Scroll Indicator
     ======================================== */

  .hero-trust__scroll-indicator {
    position: absolute;
    bottom: var(--space-md);
    left: 50%;
    transform: translateX(-50%);
    font-family: var(--font-mono);
    font-size: 0.75rem;
    letter-spacing: 0.1em;
    color: var(--color-gray-dim);
    text-transform: uppercase;
    animation: scroll-bounce var(--anim-slow) ease-in-out infinite;
  }

  .hero-trust__scroll-indicator::after {
    content: '↓';
    display: block;
    margin-top: 0.5rem;
    font-size: 1.5rem;
  }

  @keyframes scroll-bounce {
    0%,
    100% {
      transform: translateX(-50%) translateY(0);
    }
    50% {
      transform: translateX(-50%) translateY(10px);
    }
  }

  /* ========================================
     Responsive Design — Mobile First
     ======================================== */

  @media (max-width: 768px) {
    .hero-trust {
      min-height: 90vh;
      padding: var(--space-sm);
    }

    .hero-trust__headline {
      font-size: clamp(1.75rem, 10vw, 3rem);
    }

    .hero-trust__subline {
      font-size: clamp(0.875rem, 4vw, 1.25rem);
    }

    .hero-trust__cta-group {
      flex-direction: column;
      width: 100%;
      gap: var(--space-sm);
    }

    .hero-trust__btn {
      width: 100%;
      max-width: 300px;
    }

    /* Simplify glitch effects on mobile for performance */
    .hero-trust__headline::before,
    .hero-trust__headline::after {
      opacity: 0.5;
    }
  }

  /* ========================================
     Accessibility: Reduced Motion Support
     ======================================== */

  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }

    .hero-trust__headline::before,
    .hero-trust__headline::after {
      display: none;
    }

    .hero-trust__subline::after {
      animation: none;
    }

    .hero-trust__scroll-indicator {
      animation: none;
    }
  }

  /* ========================================
     Performance Optimization
     ======================================== */

  .hero-trust,
  .hero-trust__headline,
  .hero-trust__btn {
    will-change: transform, opacity;
  }

  /* Force hardware acceleration */
  .hero-trust__headline::before,
  .hero-trust__headline::after {
    transform: translateZ(0);
    backface-visibility: hidden;
  }
</style>

{%- liquid
  assign headline = section.settings.headline | default: 'TRUST.NO.OUTPUT'
  assign subline = section.settings.subline | default: 'Reality is under construction'

  assign btn_primary_text = section.settings.btn_primary_text | default: 'Enter Simulation'
  assign btn_primary_url = section.settings.btn_primary_url

  assign btn_secondary_text = section.settings.btn_secondary_text | default: 'Read the Manifesto'
  assign btn_secondary_url = section.settings.btn_secondary_url

  assign btn_ghost_text = section.settings.btn_ghost_text | default: 'Refuse'
  assign btn_ghost_url = section.settings.btn_ghost_url
-%}

<section class="hero-trust" id="hero-section">
  <div class="hero-trust__content">
    {%- if headline != blank -%}
      <h1 class="hero-trust__headline" data-text="{{ headline }}">
        {{ headline }}
      </h1>
    {%- endif -%}

    {%- if subline != blank -%}
      <p class="hero-trust__subline">
        {{ subline }}
      </p>
    {%- endif -%}

    <div class="hero-trust__cta-group">
      {%- if btn_primary_text != blank -%}
        <a href="{{ btn_primary_url }}" class="hero-trust__btn hero-trust__btn--primary">
          {{ btn_primary_text }}
        </a>
      {%- endif -%}

      {%- if btn_secondary_text != blank -%}
        <a href="{{ btn_secondary_url }}" class="hero-trust__btn hero-trust__btn--secondary">
          {{ btn_secondary_text }}
        </a>
      {%- endif -%}

      {%- if btn_ghost_text != blank -%}
        <a href="{{ btn_ghost_url }}" class="hero-trust__btn hero-trust__btn--ghost">
          {{ btn_ghost_text }}
        </a>
      {%- endif -%}
    </div>
  </div>

  <div class="hero-trust__scroll-indicator" aria-hidden="true">Scroll</div>
</section>

<script>
  /**
   * TRUST.NO.OUTPUT — Conscious Interaction Logic
   *
   * Philosophy: Minimal JavaScript, progressive enhancement
   * All core functionality works without JS (CSS-first approach)
   *
   * Enhancements:
   * - Parallax scroll effect (subtle, decelerated)
   * - Conscious delay on CTA interactions
   * - Intersection Observer for scroll reveal (future sections)
   */

  (function () {
    'use strict';

    // Check for reduced motion preference
    const prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;

    if (prefersReducedMotion) {
      // Respect accessibility preferences
      return;
    }

    // Subtle Parallax Effect on Scroll
    const hero = document.getElementById('hero-section');

    if (hero) {
      let ticking = false;

      window.addEventListener('scroll', function () {
        if (!ticking) {
          window.requestAnimationFrame(function () {
            const scrolled = window.pageYOffset;
            const parallaxSpeed = 0.5; // Slow, conscious movement

            hero.style.transform = `translateY(${scrolled * parallaxSpeed}px)`;
            hero.style.opacity = 1 - scrolled / 800; // Fade on scroll

            ticking = false;
          });

          ticking = true;
        }
      });
    }

    // Conscious Delay on Primary CTA (Resistance to Acceleration)
    const primaryBtn = document.querySelector('.hero-trust__btn--primary');

    if (primaryBtn) {
      primaryBtn.addEventListener('click', function (e) {
        e.preventDefault();

        const targetUrl = this.getAttribute('href');

        // Add visual feedback
        this.style.opacity = '0.5';

        // Conscious 600ms delay
        setTimeout(function () {
          window.location.href = targetUrl;
        }, 600);
      });
    }

    // Ghost Button: Philosophical "Refusal" Interaction
    const ghostBtn = document.querySelector('.hero-trust__btn--ghost');

    if (ghostBtn && ghostBtn.getAttribute('href') === '#') {
      ghostBtn.addEventListener('click', function (e) {
        e.preventDefault();

        // Subtle acknowledgment of refusal
        this.textContent = '...';

        setTimeout(() => {
          this.textContent = 'Acknowledged';
        }, 800);

        setTimeout(() => {
          this.textContent = 'Refuse';
        }, 2400);
      });
    }
  })();
</script>

{% schema %}
{
  "name": "Hero — TRUST.NO.OUTPUT",
  "class": "section-hero-trust",
  "settings": [
    {
      "type": "header",
      "content": "Content Settings"
    },
    {
      "type": "text",
      "id": "headline",
      "label": "Primary Headline",
      "default": "TRUST.NO.OUTPUT",
      "info": "Main brand name with RGB glitch effect"
    },
    {
      "type": "text",
      "id": "subline",
      "label": "Subline / Tagline",
      "default": "Reality is under construction",
      "info": "Philosophical statement below headline"
    },
    {
      "type": "header",
      "content": "Call-to-Action Buttons"
    },
    {
      "type": "text",
      "id": "btn_primary_text",
      "label": "Primary Button Text",
      "default": "Enter Simulation",
      "info": "Main CTA with RGB glitch hover"
    },
    {
      "type": "url",
      "id": "btn_primary_url",
      "label": "Primary Button URL",
      "info": "Link to manifesto or main landing page"
    },
    {
      "type": "text",
      "id": "btn_secondary_text",
      "label": "Secondary Button Text",
      "default": "Read the Manifesto"
    },
    {
      "type": "url",
      "id": "btn_secondary_url",
      "label": "Secondary Button URL"
    },
    {
      "type": "text",
      "id": "btn_ghost_text",
      "label": "Ghost Button Text",
      "default": "Refuse",
      "info": "Represents conscious refusal (no animations)"
    },
    {
      "type": "url",
      "id": "btn_ghost_url",
      "label": "Ghost Button URL",
      "info": "Leave empty to keep refusal as a non-navigation action"
    },
    {
      "type": "header",
      "content": "Advanced Settings"
    },
    {
      "type": "checkbox",
      "id": "enable_parallax",
      "label": "Enable Parallax Scroll",
      "default": true,
      "info": "Subtle scroll effect (respects reduced-motion)"
    }
  ],
  "presets": [
    {
      "name": "Hero — TRUST.NO.OUTPUT",
      "category": "Trust.No.Output"
    }
  ]
}
{% endschema %}
