{% comment %}
  SECTION: Motion Hero (TRUST.NO.OUTPUT)
  Reine Struktur (CSS in assets/custom.css)
{% endcomment %}

<section
  class="tno-hero tno-hero--center reveal"
  data-parallax="{{ section.settings.parallax_strength | default: 0.25 }}"
  data-glitch-mode="{{ section.settings.glitch_mode | default: 'pulse' }}"
>
  <div class="tno-hero-media">
    {%- liquid
      if section.index == 0
        assign loading_strategy = 'eager'
      else
        assign loading_strategy = 'lazy'
      endif
    -%}

    {%- if section.settings.hero_image != blank -%}
      {{
        section.settings.hero_image
        | image_url: width: 2200
        | image_tag:
          loading: loading_strategy,
          alt: section.settings.headline,
          class: 'tno-hero-img'
      }}
    {%- else -%}
      <img
        src="{{ 'glitch-bg.jpg' | asset_url }}"
        alt="Hero Fallback"
        width="1600"
        height="900"
        loading="{{ loading_strategy }}"
        class="tno-hero-img"
      >
    {%- endif -%}
  </div>

  <div class="tno-hero-overlay" aria-hidden="true"></div>

  <div class="tno-hero-caption">
    <div class="tno-hero-caption__content">
      <h1
        class="tno-title tno-glitch-strong tno-glitch-pulse"
        data-text="{{ section.settings.headline | default: 'REALITY IS UNDER CONSTRUCTION.' }}"
      >
        {{ section.settings.headline | default: 'REALITY IS UNDER CONSTRUCTION.' }}
      </h1>

      {%- if section.settings.subtext != blank -%}
        <p
          class="tno-subtext tno-glitch-soft tno-glitch-pulse"
          data-text="{{ section.settings.subtext }}"
        >
          {{ section.settings.subtext }}
        </p>
      {%- endif -%}

      <div class="tno-hero-ctas" role="group" aria-label="Primary actions">
        {%- if section.settings.button1_label != blank -%}
          <a
            href="{{ section.settings.button1_link }}"
            class="tno-btn tno-btn--primary tno-btn-glitch"
            data-cta="enter"
            data-delay="600"
          >
            {{ section.settings.button1_label | default: 'ENTER SIMULATION' }}
          </a>
        {%- endif -%}

        {%- if section.settings.button2_label != blank -%}
          <a
            href="{{ section.settings.button2_link }}"
            class="tno-btn tno-btn--secondary tno-btn-glitch"
            data-cta="manifesto"
          >
            {{ section.settings.button2_label | default: 'READ MANIFESTO' }}
          </a>
        {%- endif -%}

        {%- if section.settings.button3_label != blank -%}
          <a
            href="{{ section.settings.button3_link | default: '#' }}"
            class="tno-btn tno-btn--ghost"
            data-cta="refuse"
          >
            {{ section.settings.button3_label | default: 'REFUSE' }}
          </a>
        {%- endif -%}
      </div>
    </div>
  </div>

  <div class="tno-scroll-indicator" aria-hidden="true"></div>
</section>

{% schema %}
{
  "name": "Motion Hero (TNO)",
  "settings": [
    { "type": "text", "id": "headline", "label": "Überschrift", "default": "TRUST.NO.OUTPUT" },
    {
      "type": "textarea",
      "id": "subtext",
      "label": "Untertitel / Text",
      "default": "DESIGNS FOR SIMULATED MIND"
    },
    {
      "type": "select",
      "id": "glitch_mode",
      "label": "Glitch Modus",
      "default": "pulse",
      "options": [
        { "value": "pulse", "label": "Pulse (empfohlen)" },
        { "value": "continuous", "label": "Kontinuierlich" },
        { "value": "off", "label": "Aus" }
      ]
    },
    {
      "type": "range",
      "id": "parallax_strength",
      "label": "Parallax Stärke",
      "default": 0.2,
      "min": 0,
      "max": 0.5,
      "step": 0.1,
      "info": "Relative Bewegungsstärke (0 = keine Parallax, 0.5 = stark). Einheitloses Verhältnis."
    },
    { "type": "image_picker", "id": "hero_image", "label": "Hero-Bild" },
    { "type": "header", "content": "Buttons" },
    {
      "type": "text",
      "id": "button1_label",
      "label": "Button 1 – Label",
      "default": "ENTER SIMULATION"
    },
    { "type": "url", "id": "button1_link", "label": "Button 1 – Link" },
    {
      "type": "text",
      "id": "button2_label",
      "label": "Button 2 – Label",
      "default": "READ MANIFESTO"
    },
    { "type": "url", "id": "button2_link", "label": "Button 2 – Link" },
    { "type": "text", "id": "button3_label", "label": "Button 3 – Label", "default": "REFUSE" },
    { "type": "url", "id": "button3_link", "label": "Button 3 – Link" }
  ],
  "presets": [{ "name": "Motion Hero (TNO)" }]
}
{% endschema %}
